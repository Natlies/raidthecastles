function GiftFeedForm(c,b,d,a){this.button=$(c.send);this.skipButton=c.skip&&$(c.skip);this.form=$(b);this.dataUrl=d;this.continueToUrl=a;this.button.click(bind(this.sendClicked,this));this.skipButton&&this.skipButton.click(bind(this.afterPublish,this))}GiftFeedForm.prototype={sendClicked:function(){$.getJSON(ZY.PrepareURL(this.dataUrl),this.form.serialize(),bind(this.publishStream,this));return false},publishStream:function(a){FB.Connect.streamPublish("",a.attachment,a.actionLink,a.targetId,a.userMessagePrompt,bind(this.afterPublish,this))},afterPublish:function(){redirect(this.continueToUrl);return false}};